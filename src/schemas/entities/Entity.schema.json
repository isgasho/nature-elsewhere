{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://natureelsewhere.com/schemas/entities/Entity.schema.json",
  "type": "object",
  "title": "Entity",
  "deepDefaults": true,
  "properties": {
    "id": {"$ref": "/schemas/entities/EntityID.schema.json"},
    "kind": {"$ref": "/schemas/entities/EntityKind.schema.json"},
    "position": {"$ref": "/schemas/math/I16XY.schema.json"},
    "scale": {"$ref": "/schemas/images/ImageScale.schema.json"},
    "machine": {"$ref": "/schemas/images/ImageStateMachine.schema.json"},
    "updatePredicate": {
      "$ref": "/schemas/updaters/UpdatePredicate.schema.json",
      "default": "intersectsViewport"
    },
    "updaters": {
      "type": "array",
      "items": {"$ref": "/schemas/updaters/UpdaterKind.schema.json"},
      "default": [],
      "uniqueItems": true
    },
    "collisionPredicate": {
      "$ref": "/schemas/collision/CollisionPredicate.schema.json",
      "default": "never"
    },
    "collisionBodies": {
      "type": "array",
      "items": {"$ref": "/schemas/math/Rect.schema.json"},
      "default": [],
      "uniqueItems": true
    },
    "children": {
      "type": "array",
      "items": {"$ref": "/schemas/entities/AnyEntity.schema.json"},
      "default": []
    }
  },
  "required": ["kind"],
  "additionalProperties": false
}
